Для подготовки окружения запустите скрипт:

`prepare.sh`{{execute}}

Скрипт выполняет следующее:
- создаёт необходимые пространства имён (namespace) в Kubernetes;
- создаёт файл переменных окружения ~/envs;
- выполняет запуск и настройку (deploy) системных компонент OpenFaaS, Gravitee APIM, registry;
- устанавливает консольную утилиту faas-cli для взаимодействия с OpenFaaS из командной строки;
- скачивает конфигурацию (template) для создания функций на языке Python в root/template;
- устанавливает Gravitee APIM.

**Обратите внимание:** необходимо дождаться, пока все компоненты будут успешно установлены (2-3 мин).

Далее, для установки переменных окружения используйте созданный файл:

`source ~/envs`{{execute}}
### Проверка окружения
Чтобы получить список запущенных подов в кластере, выполните скрипт:

`kubectl get po -A  | grep -v Complete`{{execute}}

Необходимо убедиться, что у всех подов в кластере статус **Running**.

Проверьте доступ из консольного клиента к OpenFaaS:

`faas-cli list -v`{{execute}}

Так как ни одна функция ещё не создана, вывод будет следующий:
```
Function                        Image                                           Invocations     Replicas        CreatedAt
```
На этом настройка окружения успешно завершена.

Далее необходимо запустить первую serverless функцию.